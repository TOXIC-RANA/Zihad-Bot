const mentionedUsers = new Map(); // ржорзЗржирж╢ржи ржХрж░рж╛ ржмрзНржпржХрзНрждрж┐ржжрзЗрж░ ржЯрзНрж░рзНржпрж╛ржХ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп

module.exports = {
    config: {
        name: "mentionReply",
        aliases: ["mr"],
        version: "1.0",
        author: "Ullash уГГ тШЖЁЭРАЁЭРБЁЭРЗЁЭРСЁЭРАЁЭРНЁЭРИЁЭРЛтШЖ",
        role: 2,
        category: "fun",
        shortDescription: "ржорзЗржирж╢ржи ржХрж░рж╛ ржЗржЙржЬрж╛рж░ржжрзЗрж░ рж░рж┐ржкрзНрж▓рж╛ржЗ ржжрзЗржпрж╝",
        longDescription: "ржпржЦржи рждрзБржорж┐ ржХрж╛ржЙржХрзЗ ржорзЗржирж╢ржи ржХрж░ржмрзЗ, ржмржЯ ржХрж┐ржЫрзБржХрзНрж╖ржгрзЗрж░ ржЬржирзНржп рждрж╛ржжрзЗрж░ ржорзЗрж╕рзЗржЬрзЗ рж░рж┐ржкрзНрж▓рж╛ржЗ ржжрзЗржмрзЗред",
        guide: {
            en: "{p}mentionReply @user"
        }
    },

    onStart: async function ({ api, event }) {
        let mention = Object.keys(event.mentions)[0];
        if (!mention) return api.sendMessage("ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржПржХржЬржиржХрзЗ ржорзЗржирж╢ржи ржХрж░рзБржи!", event.threadID, event.messageID);

        let name = event.mentions[mention]; // ржорзЗржирж╢ржи ржХрж░рж╛ ржЗржЙржЬрж╛рж░рзЗрж░ ржирж╛ржо ржирзЗржУржпрж╝рж╛
        mentionedUsers.set(mention, { name, time: Date.now() });

        api.sendMessage(`рж╣рзНржпрж╛рж▓рзЛ ${name}, рждрзБржорж┐ ржПржЦржи ржмржЯрзЗрж░ ржмрж┐рж╢рзЗрж╖ рждрж╛рж▓рж┐ржХрж╛рзЯ ржЖржЫрзЛ!`, event.threadID, event.messageID);

        // рзл ржорж┐ржирж┐ржЯ ржкрж░ ржЗржЙржЬрж╛рж░ржХрзЗ рждрж╛рж▓рж┐ржХрж╛ ржерзЗржХрзЗ рж╕рж░рж┐рзЯрзЗ ржлрзЗрж▓ржмрзЗ
        setTimeout(() => {
            mentionedUsers.delete(mention);
        }, 5 * 60 * 1000);
    },

    onChat: async function ({ api, event }) {
        let userId = event.senderID;

        if (mentionedUsers.has(userId)) {
            let replies = [
                "ржарж╛ржкрзЗрж░ ржирж╛ржо ржпржжрж┐ рж╣рзЯ ржЪрзБржжрж╛-- рждрзЛрж░ ржорж╛рж░ ржнрзЛржжрж╛рзЯ ржжрж┐ржорзБ ржПржХ ржмрж╕рзНрждрж╛ ржЬрзБрждрж╛--- ржЬрзБрждрж╛рзЯ ржЖржЫрзЗ ржорзЯрж▓рж╛-- рждрзЛрж░ ржорж╛рж░ ржнрзЛржжрж╛ ржЪрзБржЗржжрж╛ ржмрж╛рж╣рж┐рж░ ржХрж░ржорзБ ржПржХ ржмрж╕рзНрждрж╛ ржХрзЯрж▓рж╛ЁЯТжЁЯТиЁЯШК",
                "рждрзЛрж░ ржорж╛рж░ ржнрзЛржжрж╛ ржЪрзБржЗржжрж╛ тЮЦ рждрзЛрж░ ржмрзЛржирзЗрж░ ржнрзЛржжрж╛рзЯ ржнрж░ржорзБ ржПржХ ржмрж╛рж▓рждрж┐ ржмрж┐ржЪрж┐рж░рж╛ тЮЦ ржмрж┐ржЪрж┐рж░рж╛ рж░ржВ рж╣рзЯ рж╕рж╛ржжрж╛ тЮЦрждрзЛрж░ ржорж╛рж░ ржнрзЛржжрж╛ ржЪрзБржЗржжрж╛ ржмрж╛ржирж╛ржорзБ ржнрж╛рж░ржЪрзБрзЯрж╛рж▓ ржЬржЧрждрзЗрж░ ржЧрж╛ржзрж╛тЭО",
                "ржЦрж╛ржорзНржмрж╛ рж╣рзЯ рж╢ржХрзНржд, рждрзЛрж░ ржорж╛рж░ ржмрзЛржжрж╛ ржЪрзБржЗржжрж╛ ржмрж╛рж░ ржХрж░ржорзБ рж░ржХрзНржд--рж░ржХрзНрждрзЗрж░ рж░ржВ ржпржжрж┐ рж╣рзЯ рж▓рж╛рж▓, рждрзЛрж░ ржорж╛рж░рзЗ ржЪрзБржжржмрзЛ ржЪрж┐рж░ржХрж╛рж▓ тЭО",
                "рждрзЛрж░ ржорж╛рж░ ржХрж╛рж▓рж╛ ржнрзЛржжрж╛ ржЪрзБржжржорзБ ржЖржорж┐ ржШрж░рзЗрж░ ржПржХ ржХржирзЗ ЁЯСТрж╢рзБрзЯрж╛рж░рзЗрж░ ржмрж╛ржЪрзНржЪрж╛ тЭО",
                "рждрзЛрж░ ржорж╛рж░ ржнрзЛржжрж╛ ржЪрзБржЗржжрж╛ ржХрж░ржорзБ рззрзжрзжржЗржиржЪрж┐ ржлрж╛ржБржХрж╛---ЁЯТжЁЯТж ЁЯШГ",
                "ржбрж┐ржкрзНрж░рзЗрж╢ржи ржерзЗржХрзЗржУ рждрзЛрж░ ржорж╛ржЗрж░рзЗ ржЪрзБ*** ржжрж┐ ЁЯдм ржмрж╛ржирзНржзрж┐рж░ ржкрзЛрж▓рж╛",
                "ржЦрж╛ржиржХрж┐рж░ ржкрзЛрж▓рж╛, ржЖрж░ ржПржХржЯрж╛ ржЯрзЗржХрзНрж╕ржЯ ржХрж░рж▓рзЗ рждрзБржЗ рждрзЛрж░ ржорж╛ржпрж╝рзЗрж░ ржорж╛рж╕рж┐ржХ ржЦрж╛рж╕ \n ржзржирзНржпржмрж╛ржж ЁЯл░ЁЯП╝",
                "ржмрзНржпрж╛рж╕рзНржпрж╛рж░ ржкрзЛрж▓рж╛, ржХржерж╛ рж╢рзБржи, рждрзЛрж░ ржЖржорзНржорзБ рж░рзЗ ржЪрзБржжрж┐ ржЧрж╛ржоржЫрж╛ ржкрзЗржЪрж┐рзЯрзЗЁЯР░",
                "рж╣рж┐ржЬрж▓рж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛, рж╣рж╛рждрж┐рж░ рж▓рзНржпрж╛ржУрзЬрж╛ ржжрж┐рзЯрж╛ рждрзЛрж░ ржорж╛рзЯрзЗрж░рзЗ ржЪрзБржжрзБржо",
                "ржЯрзБржХрж╛ржЗ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛, рждрзЛрж░ ржорж╛рж░ ржнрзЛржжрж╛рзЯ ржкрж╛ржмрзНрж▓рж┐ржХ ржЯрзЯрж▓рзЗржЯредЁЯдЯ",
                "рждрзЛрж░ ржЯрзЗржХрзНрж╕ржЯ ржХрж╛ржорж▓рж╛рж░ ржорж╛ржпрж╝рж░рзЗ ржЪрзБ*ржжрж┐ ЁЯдб",
                "ржЦрж╛ржиржХрж┐рж░ ржкрзЛрж▓рж╛, ржЯрзЗржХрзНрж╕ржЯ ржирж╛ ржХрж░рзЗ ржЖржорж╛рж░ ржзржи ржЪрзБрж╖рзЗ ржжрзЗЁЯШВ, ржЯрж╛ржХрж╛ ржжрж┐ржорзБ",
                "рждрзЛрж░ ржорзБржЦрзЗ рж╣рж╛ржЗржЧрзНржпрж╛ ржжрж┐ржорзБред ржнрзБрж╕рзНржХрж┐ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛ ЁЯдг",
                "-ЁЭРГЁЭРиЁЭРз'ЁЭРн ЁЭРМЁЭРвЁЭРзЁЭРЭ, рждрзЛрж░рзЗржУ ржЪрзБржжрж┐ рж╕рж╛ржерзЗ рждрзЛрж░ ржорж╛рж░рзЗ ржУ ржЪрзБржжрж┐ ЁЯШкЁЯТЛЁЯлВ",
                "____________ЁЭРГЁЭРиЁЭРз'ЁЭРн ЁЭРМЁЭРвЁЭРзЁЭРЭ рждрзЛржорж╛рж░ ржорж╛рж░рзЗ ржЪрзБржжрж┐!ЁЯШ┤ЁЯдПЁЯНЖЁЯР▒ЁЯНТ",
                "ржзрзЛржи ржЪрж┐ржи ржЪрж┐ржи ржХрж░ржЫрзЗ, рж╣рж╛рзЯ рждрзЛрж░ ржЖржорзНржорзБржХрзЗ ржЖржорж┐ ржЪрзЛржжрждрзЗ ржЪрж╛ржЗ! ржЖржорж░рж╛ ржжрзБржЬржи ржжрзБржЬржирж╛рж░рж┐ ржЪрзЛржжрж╛рж░ ржжрзБржирж┐ржпрж╝рж╛рж░, рждрзЛрж░ ржЖржорзНржорзБрж░рзЗ ржЫрзБржБржпрж╝рзЗ ржжрж┐рж▓рзЗ рждрзЛрж░ ржХржЪрж┐ ржмрзЛржи ржкрзНрж░рзЗржЧржирзЗржирзНржЯ рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ ЁЯдгЁЯТГЁЯд╕тАНтЩВя╕ПЁЯл╢",
                "рждрзЛрж░ ржЖржорзНржорзБрж░ ржмрзЛржжрж╛ржпрж╝ рждрж╛рж▓ржЧрж╛ржЫ ржжрж┐ржорзБ, ржЦрж╛ржиржХрж┐рж░ ржкрзЛрж▓рж╛!",
                "ржЖржмрзНржмрзБ ржбрж╛ржХ, ржорж╛ржк ржХрж░рзЗ ржжрж┐ржорзБ!",
                "рждрзЛрж░ ржорж╛ржпрж╝рж░рзЗ ржмрзЛржжрж╛ржпрж╝ ржЪрзЗржбрж╝рж╛ рж╕рзЗржирзНржбрзЗрж▓ ржжрж┐ржпрж╝рж╛ ржкрж┐ржЯрж╛ржорзБ, ржЦрж╛ржиржХрж┐рж░ ржкрзЛрж▓рж╛!",
                "рж╣рж╛ржд ржорж╛рж░рж╛ ржорж╛ржЧрж┐рж░ ржкрзЛрж▓рж╛, ржШрзБ ржЦрж╛ржЗржпрж╝рж╛ ржоржЗрж░рж╛ ржпрж╛ ЁЯл╢ЁЯП╝ ЁЯл╡ЁЯП╝ ЁЯдг",
                "рждрзЛрж░ ржорж╛ржпрж╝рж░рзЗ рждрзЛрж░ ржмрж╛ржкрзЗрж░ ржХрж╛ржирзНржжрзЗ ржЙржкрж░ ржкрж╛рж▓рж╛ржЗ ржЪрзБржжрж┐ ЁЯдгЁЯТФЁЯлд",
                "рждрзЛрж░ ржХржЪрж┐ ржмрзЛржирзЗрж░рзЗ рждрзЛрж░ ржХрзЛрж▓рзЗ рждрзБржЗрж▓рж╛ ржЪрзБржжрж┐ ЁЯЩВ ЁЯР╕ ЁЯдЭ",
                "ржЪрж┐рж▓рзНрж▓рж╛ржЪрж┐рж▓рзНрж▓рж┐ ржирж╛ ржХржЗрж░рж╛ рждрзЛрж░ ржорж╛ржпрж╝рзЗрж░ ржнрзЛржБржжрж╛рж░ ржЫржмрж┐ ржжрзЗ ЁЯл░ЁЯП╝, рж╣рж╛ржд ржорж╛ржЗрж░рж╛ ржШрзБржпрж╝рж╛ржЗржпрж╝рж╛ ржкржбрж╝ржорзБ",
                "рждрзЛрж░ ржорж╛ржпрж╝рзЗрж░ ржнрзЛржжрж╛ ржХрж╛рж▓рж╛ЁЯШВЁЯШВ",
                "рждрзЛрж░ ржорж╛ржпрж╝рж░рзЗ ржЫрзЗржбрж╝рж╛ ржкрж▓рж┐ржерж┐ржи ржмрзНржпрж╛ржЧ ржжрж┐ржпрж╝рж╛ ржЪрзБ*ржжрж┐ ЁЯдбЁЯл╢ЁЯП╝ЁЯШВЁЯШВ",
                "ржЖржорж┐ рждрзЛрж░ ржорж╛ржпрж╝рж░рзЗ ржЪрзБржжрж▓рж╛ржо, рж╢рзБржзрзБржорж╛рждрзНрж░ ржорзБрж╣рзВрж░рзНрждржЯрж╛ржХрзЗ рж╕рзБржирзНржжрж░ ржХрж░рж╛рж░ ржЬржирзНржп!ЁЯЩВЁЯТФ",
                "ржПржХ ржЖржХрж╛рж╢ ржкрж░рж┐ржорж╛ржг ржХрж╖рзНржЯ ржирж┐ржпрж╝рзЗ рждрзЛрж░ ржорж╛рж░рзЗ ржЪрзБржжрж┐ ЁЯЩВЁЯТФЁЯТп",
                "___ ржкрзБржЯржХрж┐ ржорж╛рж░рж╛рж░ ржЬржирзНржп рждрзЛрж░ ржЖржорзНржорзБржХрзЗ ржЪрж╛ржЗЁЯШЪЁЯТЪЁЯНв",
                "-ржЖржорж╛рж░ ржирзБржирзБ ржЫрж╛рзЬрж╛, рждрзЛрж░ ржЖржорзНржорзБрж░ ржнрзБржжрж╛ ЁЯе╡ ржПрждрж┐ржо ..!!!ЁЯдлЁЯлжЁЯТж"
            ];
            
            let randomReply = replies[Math.floor(Math.random() * replies.length)];
            api.sendMessage(randomReply, event.threadID, event.messageID);
        }
    }
};
